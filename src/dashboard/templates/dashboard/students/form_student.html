<form action="{% url 'dashboard:create_update_student' %}" class="needs-validation my-4" method="POST" novalidate>
    {% csrf_token %}
    <input type="hidden" name="id" value="{{student.id}}">
    <h5>BIOGRAPHY</h5>
    <hr>
    <div class="form-group">
        <label for="name">Student ID</label>
        <input class="form-control" placeholder="E.g., 10739443" value="{{student_id}}" type="text" name="student_id"
            id="student_id" required>
        <div class="invalid-feedback">
            Please this field is required.
        </div>
    </div>
    <div class="row">
        <div class="form-group col-md-2 mt-4">
            <label for="name">Title</label>
            <select class="form-control" name="title" id="title" required>
                <option value="">--Click to select--</option>
                <option value="mr" {% if title == 'mr' %}selected{% endif %}>Mr</option>
                <option value="mrs" {% if title == 'mrs' %}selected{% endif %}>Mrs</option>
            </select>
            <div class="invalid-feedback">
                Please this field is required.
            </div>
        </div>
        <div class="form-group col-md-4 mt-4">
            <label for="name">Surname</label>
            <input class="form-control" placeholder="E.g, Mensah" value="{{surname}}" type="text" name="surname"
                id="name" required>
            <div class="invalid-feedback">
                Please this field is required.
            </div>
        </div>

        <div class="form-group col-md-6 mt-4">
            <label for="name">Other names</label>
            <input class="form-control" placeholder="E.g, John" value="{{other_names}}" type="text" name="other_names"
                id="name" required>
            <div class="invalid-feedback">
                Please this field is required.
            </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group col-md-2 mt-4">
            <label for="name">Gender</label>
            <select class="form-control" name="gender" id="gender" required>
                <option value="">--Click to select--</option>
                <option value="male" {% if gender == 'male' %}selected{% endif %}>Male</option>
                <option value="female" {% if gender == 'female' %}selected{% endif %}>Female</option>
            </select>
            <div class="invalid-feedback">
                Please this field is required.
            </div>
        </div>
        <div class="form-group col-md-4 mt-4">
            <label for="phone">Phone Number</label>
            <input class="form-control" placeholder="E.g, 024*******" value="{{phone}}" type="text" name="phone"
                maxlength="10" minlength="10" pattern="0[0-9]{9}" id="phone" required>
            <div class="invalid-feedback">
                Please enter a valid 10-digit phone number.
            </div>
        </div>

        <div class="form-group col-md-6 mt-4">
            <label for="photo">Photo</label>
            <input class="form-control" type="file" name="photo" id="photo">
            <div class="invalid-feedback">
                Please this field is required.
            </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group col-md-2 mt-4">
            <label for="start_date">Start Date</label>
           <input class="form-control" type="date" name="start_date" id="start_date" value="{{start_date}}">
            <div class="invalid-feedback">
                Please this field is required.
            </div>
        </div>
        <div class="form-group col-md-4 mt-4">
            <label for="end_date">End Date</label>
           <input class="form-control" type="date" name="end_date" id="end_date" value="{{end_date}}">
            <div class="invalid-feedback">
                Please this field is required.
            </div>
        </div>

        <div class="form-group col-md-4 mt-4">
            <div class="form-check mt-4">
                <label for="completed">Completed</label>
                <input class="form-check-input" type="checkbox" value="1" name="completed" id="completed"
                    {% if completed %}checked{% endif %}>
            </div>
        </div>
    </div>
    
    <h5 class="mt-5">SCHOOL INFO</h5>
    <hr>
    <div class="form-group">
        <label for="house">House</label>
        <select class="form-control" name="house_id" id="house" required>
            <option value="">--- Click to select --- </option>
            {% for house in houses %}
            <option value="{{house.id}}" {% if house.id == student.house.id %}selected{% endif %}>
                {{house.name}}
            </option>
            {% endfor %}
        </select>
        <a href="{% url 'dashboard:houses' %}" target="_blank" class="mt-2 text-end d-block text-primary"><i
                class="bi bi-plus"></i> Go to Houses
        </a>
    </div>

    <div class="mt-2 form-group">
        <label for="class">Class</label>
        <select class="form-control" name="klass_id" id="class" required>
            <option value="">--- Click to select --- </option>
            {% for class in classes %}
            <option value="{{class.id}}" {% if class.id == student.klass.id %}selected{% endif %}>
                {{class.name}}
            </option>
            {% endfor %}
        </select>
        <a href="{% url 'dashboard:classes' %}" target="_blank" class="mt-2 text-end d-block text-primary"><i
                class="bi bi-plus"></i> Go to Classes</a>
    </div>


    <div class="mt-2 form-group">
        <label for="track">Track</label>
        <select class="form-control" name="track_id" id="track" required>
            <option value="">--- Click to select --- </option>
            {% for track in tracks %}
            <option value="{{track.id}}" {% if track.id == student.track.id %}selected{% endif %}>
                {{track.name}}
            </option>
            {% endfor %}
        </select>
        <a href="{% url 'setup:index' %}" target="_blank" class="mt-2 text-end d-block text-primary"><i
                class="bi bi-plus"></i> Go to Tracks</a>
    </div>

    <div class="mt-2 form-group">
        <label for="course">Course</label>
        <select class="form-control" name="course_id" id="course" required>
            <option value="">--- Click to select --- </option>
            {% for course in courses %}
            <option value="{{course.id}}" {% if course.id == student.course.id %}selected{% endif %}>
                {{course.name}}
            </option>
            {% endfor %}
        </select>
        <a href="{% url 'dashboard:courses' %}" target="_blank" class="mt-2 text-end d-block text-primary"><i
                class="bi bi-plus"></i> Go to Courses</a>
    </div>

    <div class="mt-4 form-group">
        <p>Electives</p>
        {% for subject in subjects|dictsort:"name" %}
        <div class="form-check">
            <label for="filed_{{subject.id}}">{{subject.name}}</label>
            <input class="form-check-input" type="checkbox" value="{{subject.id}}" name="elective_ids"
                id="filed_{{subject.id}}"
                {% if subject in student.electives.all or subject.id in elective_ids %}checked{% endif %}>
        </div>
        {% endfor %}

        <a href="{% url 'dashboard:subjects' %}" target="_blank" class="mt-2 text-end d-block text-primary"><i
                class="bi bi-plus"></i> Go to subjects
        </a>
    </div>

    <div class="mt-4 form-group">
        <button type="submit" class="btn btn-primary btn-sm">Submit</button>
    </div>

</form>